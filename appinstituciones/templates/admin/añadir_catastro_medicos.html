{% extends "admin/base_admin.html" %}
{% load static %}


{% block titulo_pestania %}Añadir Catastro Medicos{% endblock titulo_pestania %}

{% block contenido_dinamico %}
<link rel="stylesheet" href="{% static 'css/admin/catastro_industrial.css' %}">
<link rel="stylesheet" href="{% static 'css/ventanaModal.css' %}">
<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<div id="app">
	{% if request.user.cargo == 'administrador' %}
	<div id="contenedor-formulario">
		<div class="titulo-">
			<h2>Ingresar Equipo Medico</h2>
		</div>

		<form action="" method="POST">
			{% csrf_token %}
			<div>
				<input type="text" required placeholder="Servicio Clínico" name="ubicacion>

				'' required placeholder="Clasaaae name="claseeeee">  

				<input type="text" required placeholder="Clase" name="clase">
				
				<input type="text" required placeholder="Marca" name="marca">
			</div>


			<div>	
				<input type="text" required placeholder="Modelo" name="modelo">

				<input type="text" required placeholder="N° de Inventario" name="n_inventario">

				<input type="number" required placeholder="Año de Adquisición ej:2023" name="año_adquisicion">
			
			</div>


			<div>
				
				<input type="number" required placeholder="vida Útil" name="vida_util">

				<input type="text" required placeholder="Propiedad" name="propiedad">

				<input type="text" required placeholder="Criticidad" name="criticidad">
				
			</div>

	
			<div>
				<select name="estado" id="">
					<option value="" disabled selected>Seleccione un estado</option>
					<option value="BUENO">Bueno</option> <!-- Bueno - Regular - Malo - Baja -->
					<option value="REGULAR">Regular</option>
					<option value="MALO">Malo</option>
					<option value="BAJA">Baja</option>
				</select>


				<select name="institucion">
					<option value="" disabled selected>Seleccione una ciudad</option>
					<option value="1">Lebu</option>
					<option value="2">Arauco</option>
					<option value="4">Cañete</option>
					<option value="3">Curanilahue</option>
					<option value="5">Contulmo</option>
				</select>
	

			</div>

			<div>
				
				<input type="submit" value="Agregar">
				{% if messages %}
				<ul class="messages">
					{% for message in messages %}
					<li style="color: green;" {% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
					{% endfor %}
				</ul>
				{% endif %}
			</div>





		</form>
	</div>
	{% elif request.user.cargo == 'usuario' %}
	<div id="contenedor-formulario" class="usuario">
		<div class="titulo-">
			<h2>Ingresar Vehiculo</h2>
		</div>

		<form action="" method="POST">
			{% csrf_token %}
			<div>
				<input type="text" required placeholder="Servicio Clíncio" name="ubicacion">


				<input type="text" required placeholder="Clase" name="clase">
				
				<input type="text" required placeholder="Marca" name="marca">
			</div>


			<div>	
				<input type="text" required placeholder="Modelo" name="modelo">

				<input type="text" required placeholder="N° de Inventario" name="n_inventario">

				<input type="number" required placeholder="Año de Adquisición ej:2023" name="año_adquisicion">
			
			</div>


			<div>
				
				<input type="number" required placeholder="vida Útil" name="vida_util">

				<input type="text" required placeholder="Propiedad" name="propiedad">

				<input type="text" required placeholder="Criticidad" name="criticidad">
				
			</div>

	
			<div>
				<select name="estado" id="">
					<option value="" disabled selected>Seleccione un estado</option>
					<option value="BUENO">Bueno</option> <!-- Bueno - Regular - Malo - Baja -->
					<option value="REGULAR">Regular</option>
					<option value="MALO">Malo</option>
					<option value="BAJA">Baja</option>
				</select>

		

				<select name="institucion">
					<option value="" disabled selected>Seleccione una ciudad</option>
					<option value="1">Lebu</option>
					<option value="2">Arauco</option>
					<option value="4">Cañete</option>
					<option value="3">Curanilahue</option>
					<option value="5">Contulmo</option>
				</select>
	

			</div>

			<div>
				
				<input type="submit" value="Agregar">
				{% if messages %}
				<ul class="messages">
					{% for message in messages %}
					<li style="color: green;" {% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
					{% endfor %}
				</ul>
				{% endif %}
			</div>




		</form>
	</div>
	{% endif %}


	{% if request.user.cargo == 'administrador' %}
	<div id="contenedor-tabla">
		<div class="tabla">
			<table id="tabla">
				<thead>
					<tr>
	
						<th>Servicio Clínico</th>
						<th>Clase</th>
						<th>Marca</th>
						<th>Modelo</th>
						<th>N° Inventario</th>
						<th>Año Adquisición</th> 
						<th>Vida Útil</th>
						 <th>Propiedad</th> 
						<th>Estado</th>
						<th>Criticidad</th>
						
					</tr>
				</thead>
				<tbody>
					<tr v-for="data in data_tabla" :key="data.id">
						<td>${data.ubicacion}</td>
						<td>${ data.clase }</td>
						<td>${ data.marca }</td>
						<td>${ data.modelo }</td>
						<td>${data.numero_inventario}</td>
						<td>${ data.anio }</td>
						<td>${data.vida_util}</td>
						<td>${ data.propietario }</td>
						<td>${ data.estado }</td>
						<td>${data.criticidad}</td>
						
						
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	{% elif request.user.cargo == 'usuario' %}
	<div id="contenedor-tabla" class="usuario">
		<div class="tabla">
			<table id="tabla">
				<thead>
					<tr>
						<th>Servicio Clíncio</th>
						<th>Clase</th>
						<th>Marca</th>
						<th>Modelo</th>
						<th>N° Inventario</th>
						<th>Año Adquisición</th> 
						<th>Vida Útil</th>
						 <th>Propiedad</th> 
						<th>Estado</th>
						<th>Criticidad</th>
						
					</tr>
				</thead>
				<tbody>
					<tr v-for="data in data_tabla" :key="data.id">
						<td>${data.ubicacion}</td>
						<td>${ data.clase }</td>
						<td>${ data.marca }</td>
						<td>${ data.modelo }</td>
						<td>${data.numero_inventario}</td>
						<td>${ data.anio }</td>
						<td>${data.vida_util}</td>
						<td>${ data.propietario }</td>
						<td>${ data.estado }</td>
						<td>${data.criticidad}</td>
						
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	{% endif %}




</div>


<script src="{% static 'js/admin/catastro_medico.js' %}"></script>








{% endblock contenido_dinamico %}